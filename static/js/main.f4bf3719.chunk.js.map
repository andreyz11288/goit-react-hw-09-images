{"version":3,"sources":["Components/Modal/Modal.module.css","App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.js","Components/Loader/Loader.js","Components/Api/Api.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","img/404_error.jpg","Components/Modal/Modal.js","App.js","reportWebVitals.js","index.js","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","value","setValue","className","s","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","Loaders","loader","color","height","width","Api","onFetch","thisPage","fetch","then","r","json","ImageGalleryItem","visible","numberPage","resPage","largeImageURL","gallery","setGallery","setFetch","status","setStatus","number","setNumber","useEffect","console","log","hits","length","catch","finally","window","scrollTo","top","document","documentElement","scrollHeight","behavior","map","src","webformatURL","data-src","alt","ImageGalleryItemImage","onClick","id","Button","pageNumber","ButtonDiv","ImageGallery","setVisible","page","setPage","qq","Modal","modal","setModal","addEventListener","code","removeEventListener","Overlay","defaultProps","img","App","search","setSearch","datasrc","setDatasrc","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"kIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,mB,mBCAxBD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,uCCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,mICGjO,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAAY,EACpBC,mBAAS,IADW,mBACvCC,EADuC,KAChCC,EADgC,KAY9C,OACE,wBAAQC,UAAWC,IAAEN,UAArB,SACE,uBAAMK,UAAWC,IAAEC,WAAYN,SAXd,SAAAO,GACnBA,EAAEC,iBACFR,EAASE,IASP,UACE,wBAAQO,KAAK,SAASL,UAAWC,IAAEK,iBAAnC,SACE,sBAAMN,UAAWC,IAAEM,sBAAnB,sBAGF,uBACEP,UAAWC,IAAEO,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAjBW,SAAAT,GACjBJ,EAASI,EAAEU,OAAOf,e,+ECVP,SAASgB,IACtB,OACE,cAAC,IAAD,CACEd,UAAWC,IAAEc,OACbV,KAAK,QACLW,MAAM,UACNC,OAAQ,IACRC,MAAO,MCRE,SAASC,EAAIC,EAASC,GAEnC,OAAOC,MAAM,sEAAD,OAC4DF,EAD5D,iBAC4EC,EAD5E,4BADA,uCAGVE,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UCCD,SAASC,EAAT,GAMX,IALFN,EAKC,EALDA,QACAO,EAIC,EAJDA,QACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,QACAC,EACC,EADDA,cACC,EAC6BjC,mBAAS,IADtC,mBACMkC,EADN,KACeC,EADf,OAEyBnC,mBAAS,MAFlC,mBAEMyB,EAFN,KAEaW,EAFb,OAG2BpC,mBAAS,QAHpC,mBAGMqC,EAHN,KAGcC,EAHd,OAI2BtC,mBAAS,MAJpC,mBAIMuC,EAJN,KAIcC,EAJd,KA2DD,OArDAC,qBAAU,WACQ,KAAZlB,IACFe,EAAU,QACVR,GAAQ,MAET,CAACP,EAASO,IAEbW,qBAAU,WACRL,GAAS,KACR,CAACb,IAEJkB,qBAAU,WACQ,KAAZlB,GAAkBE,IACpBU,EAAW,IACXG,EAAU,WACVR,GAAQ,GACRE,GAAQ,GACRV,EAAIC,EAAS,GACVG,MAAK,SAAApB,GAIJ,GAHAoC,QAAQC,IAAIrC,EAAEsC,MACdT,EAAW7B,EAAEsC,MACbd,GAAQ,GACc,IAAlBxB,EAAEsC,KAAKC,OAET,OADAf,GAAQ,GACDQ,EAAU,YAEnBA,EAAU,cAEXQ,OAAM,kBAAMR,EAAU,eACtBS,QAAQX,GAAS,GAAQI,EAAU,OAEvC,CAACf,EAAOS,EAASX,EAASS,EAASF,IAEtCW,qBAAU,WACJF,IAAWR,GACbT,EAAIC,EAASQ,GACVL,MAAK,SAAApB,GACJ6B,EAAW,GAAD,mBAAKD,GAAL,YAAiB5B,EAAEsC,QAC7BI,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,WAEZxB,GAAQ,GACc,IAAlBxB,EAAEsC,KAAKC,QACTf,GAAQ,GAEVQ,EAAU,cAEXQ,OAAM,kBAAMR,EAAU,eACtBS,QAAQP,EAAUD,EAAS,MAE/B,CAACL,EAASK,EAAQR,EAAYR,EAASO,IAE3B,SAAXO,EAEA,6BACE,mHAKS,aAAXA,EAEA,6BACE,0HAIS,YAAXA,EAEA,6BACE,cAACpB,EAAD,MAKS,YAAXoB,EACKH,EAAQqB,KAAI,SAAAjD,GAAC,OAClB,oBAAeH,UAAWC,IAAEyB,iBAA5B,SACE,qBACE2B,IAAKlD,EAAEmD,aACPC,WAAUpD,EAAE2B,cACZ0B,IAAI,MACJxD,UAAWC,IAAEwD,sBACbC,QAAS,kBAAM5B,EAAc3B,EAAE2B,mBAN1B3B,EAAEwD,YAFf,E,oBC3Fa,SAASC,EAAT,GAAiC,IAAfC,EAAc,EAAdA,WAK/B,OACE,qBAAK7D,UAAWC,IAAE6D,UAAlB,SACE,wBAAQ9D,UAAWC,IAAE2D,OAAQF,QANhB,WACfG,KAKE,yBCLN,IA4CeE,EA5CM,SAAC,GAAsB,IAApBV,EAAmB,EAAnBA,IAAKjC,EAAc,EAAdA,QAAc,EACXvB,oBAAS,GADE,mBAClC8B,EADkC,KACzBqC,EADyB,OAEjBnE,mBAAS,GAFQ,mBAElCoE,EAFkC,KAE5BC,EAF4B,KAsBzC,OACE,gCACE,oBAAIlE,UAAWC,IAAE8D,aAAjB,SACE,cAACrC,EAAD,CACEN,QAASA,EACTU,cAvBc,SAAA3B,GACpBkD,EAAIlD,IAuBEwB,QApBO,SAAAe,GACbsB,GAAYtB,IAoBNd,WAAYqC,EACZpC,QAdQ,SAAA1B,GACVA,GACF+D,EAAQ,IAaJC,GAAIxC,MAGPA,GAAW,cAACiC,EAAD,CAAQC,WAtBL,SAAA1D,GACjB+D,EAAQD,EAAO,U,iBCnBJ,MAA0B,sCCK1B,SAASG,EAAT,GAAyB,IAARf,EAAO,EAAPA,IAAO,EACXxD,oBAAS,GADE,mBAC9BwE,EAD8B,KACvBC,EADuB,KA6BrC,OA1BAhC,qBAAU,WAcR,MAbY,KAARe,IACFiB,GAAS,GACTzB,OAAO0B,iBAAiB,WAAW,SAAApE,GAClB,WAAXA,EAAEqE,MACJF,GAAS,MAGbzB,OAAO0B,iBAAiB,SAAS,SAAApE,GACV,QAAjBA,EAAEU,OAAO2C,KACXc,GAAS,OAIR,WACLzB,OAAO4B,oBAAoB,SAAS,SAAAtE,GACb,QAAjBA,EAAEU,OAAO2C,KACXc,GAAS,GAEU,QAAjBnE,EAAEU,OAAO2C,KACXc,GAAS,SAId,CAACjB,IAGFgB,GACE,qBAAKrE,UAAWC,IAAEyE,QAAlB,SACE,qBAAK1E,UAAWC,IAAEmE,MAAlB,SACE,qBAAKf,IAAKA,EAAKG,IAAI,YAO7BY,EAAMO,aAAe,CACnBtB,IAAKuB,GCxCP,IAqBeC,EArBH,WAAO,IAAD,EACYhF,mBAAS,IADrB,mBACTiF,EADS,KACDC,EADC,OAEclF,mBAAS,IAFvB,mBAETmF,EAFS,KAEAC,EAFA,KAYhB,OACE,sBAAKjF,UAAWC,IAAE4E,IAAlB,UACE,cAACT,EAAD,CAAOf,IAAK2B,IACZ,cAACrF,EAAD,CAAWC,SAXE,SAAAO,GACf4E,EAAU5E,MAWR,cAAC,EAAD,CAAciB,QAAS0D,EAAQzB,IARb,SAAAlD,GACpB8E,EAAW9E,UCHA+E,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB7D,MAAK,YAAkD,IAA/C8D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5C,SAAS6C,eAAe,SAM1BX,K,kBCfAzF,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,kBCAxGD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,6B","file":"static/js/main.f4bf3719.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2Ssuh\",\"Modal\":\"Modal_Modal__34gOB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2VeMU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__WDQ9O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3oLO2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__qUuZE\",\"SearchForm\":\"Searchbar_SearchForm__1pJg7\",\"SearchFormButton\":\"Searchbar_SearchFormButton__29b_z\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1cceJ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1bJNb\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [value, setValue] = useState('');\n\n  const onSubmitFunc = e => {\n    e.preventDefault();\n    onSubmit(value);\n  };\n\n  const inputValue = e => {\n    setValue(e.target.value);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={onSubmitFunc}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={inputValue}\n        />\n      </form>\n    </header>\n  );\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default function Loaders() {\n  return (\n    <Loader\n      className={s.loader}\n      type=\"Watch\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n    />\n  );\n}\n","// import React from 'react'\r\n\r\nexport default function Api(onFetch, thisPage) {\r\n  const KEY = '19060894-87e054058a337546d07970d77';\r\n  return fetch(\r\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${onFetch}&page=${thisPage}&per_page=12&key=${KEY}`,\r\n  ).then(r => r.json());\r\n}\r\n","import { useEffect, useState } from 'react';\n\nimport s from './ImageGalleryItem.module.css';\nimport Loaders from '../Loader/Loader';\nimport Api from '../Api/Api';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({\n  onFetch,\n  visible,\n  numberPage,\n  resPage,\n  largeImageURL,\n}) {\n  const [gallery, setGallery] = useState([]);\n  const [fetch, setFetch] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [number, setNumber] = useState(null);\n\n  useEffect(() => {\n    if (onFetch === '') {\n      setStatus('idle');\n      visible(true);\n    }\n  }, [onFetch, visible]);\n\n  useEffect(() => {\n    setFetch(true);\n  }, [onFetch]);\n\n  useEffect(() => {\n    if (onFetch !== '' && fetch) {\n      setGallery([]);\n      setStatus('pending');\n      visible(true);\n      resPage(true);\n      Api(onFetch, 1)\n        .then(e => {\n          console.log(e.hits);\n          setGallery(e.hits);\n          visible(false);\n          if (e.hits.length === 0) {\n            visible(true);\n            return setStatus('rejected');\n          }\n          setStatus('resolve');\n        })\n        .catch(() => setStatus('rejected'))\n        .finally(setFetch(false), setNumber(2));\n    }\n  }, [fetch, gallery, onFetch, resPage, visible]);\n\n  useEffect(() => {\n    if (number === numberPage) {\n      Api(onFetch, numberPage)\n        .then(e => {\n          setGallery([...gallery, ...e.hits]);\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n          visible(false);\n          if (e.hits.length === 0) {\n            visible(true);\n          }\n          setStatus('resolve');\n        })\n        .catch(() => setStatus('rejected'))\n        .finally(setNumber(number + 1));\n    }\n  }, [gallery, number, numberPage, onFetch, visible]);\n\n  if (status === 'idle') {\n    return (\n      <li>\n        <h1>Введите запрос</h1>\n      </li>\n    );\n  }\n\n  if (status === 'rejected') {\n    return (\n      <li>\n        <h1>Запрос не найден</h1>\n      </li>\n    );\n  }\n  if (status === 'pending') {\n    return (\n      <li>\n        <Loaders />\n      </li>\n    );\n  }\n\n  if (status === 'resolve') {\n    return gallery.map(e => (\n      <li key={e.id} className={s.ImageGalleryItem}>\n        <img\n          src={e.webformatURL}\n          data-src={e.largeImageURL}\n          alt=\"img\"\n          className={s.ImageGalleryItemImage}\n          onClick={() => largeImageURL(e.largeImageURL)}\n        />\n      </li>\n    ));\n  }\n}\nImageGalleryItem.propTypes = {\n  visible: PropTypes.func.isRequired,\n  resPage: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.func.isRequired,\n  numberPage: PropTypes.number.isRequired,\n  onFetch: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ pageNumber }) {\n  const loadMore = () => {\n    pageNumber();\n  };\n\n  return (\n    <div className={s.ButtonDiv}>\n      <button className={s.Button} onClick={loadMore}>\n        Load more\n      </button>\n    </div>\n  );\n}\nButton.propTypes = {\n  pageNumber: PropTypes.func.isRequired,\n};\n","import s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ src, onFetch }) => {\n  const [visible, setVisible] = useState(false);\n  const [page, setPage] = useState(1);\n\n  const largeImageURL = e => {\n    src(e);\n  };\n\n  const visibl = length => {\n    setVisible(!length);\n  };\n\n  const pageNumber = e => {\n    setPage(page + 1);\n  };\n\n  const resPage = e => {\n    if (e) {\n      setPage(1);\n    }\n  };\n\n  return (\n    <div>\n      <ul className={s.ImageGallery}>\n        <ImageGalleryItem\n          onFetch={onFetch}\n          largeImageURL={largeImageURL}\n          visible={visibl}\n          numberPage={page}\n          resPage={resPage}\n          qq={visible}\n        />\n      </ul>\n      {visible && <Button pageNumber={pageNumber} />}\n    </div>\n  );\n};\n\nImageGallery.propTypes = {\n  onFetch: PropTypes.string,\n  src: PropTypes.func,\n};\n\nexport default ImageGallery;\n","export default __webpack_public_path__ + \"static/media/404_error.a378b0df.jpg\";","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\nimport img from '../../img/404_error.jpg';\n\nexport default function Modal({ src }) {\n  const [modal, setModal] = useState(false);\n\n  useEffect(() => {\n    if (src !== '') {\n      setModal(true);\n      window.addEventListener('keydown', e => {\n        if (e.code === 'Escape') {\n          setModal(false);\n        }\n      });\n      window.addEventListener('click', e => {\n        if (e.target.alt !== 'img') {\n          setModal(false);\n        }\n      });\n    }\n    return () => {\n      window.removeEventListener('click', e => {\n        if (e.target.alt !== 'img') {\n          setModal(false);\n        }\n        if (e.target.alt === 'img') {\n          setModal(true);\n        }\n      });\n    };\n  }, [src]);\n\n  return (\n    modal && (\n      <div className={s.Overlay}>\n        <div className={s.Modal}>\n          <img src={src} alt=\"img\" />\n        </div>\n      </div>\n    )\n  );\n}\n\nModal.defaultProps = {\n  src: img,\n};\n\nModal.propTypes = {\n  src: PropTypes.string,\n};\n","import { useState } from 'react';\nimport s from './App.module.css';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Modal from '../src/Components/Modal/Modal';\n\nconst App = () => {\n  const [search, setSearch] = useState('');\n  const [datasrc, setDatasrc] = useState('');\n\n  const onSubmit = e => {\n    setSearch(e);\n  };\n\n  const largeImageURL = e => {\n    setDatasrc(e);\n  };\n\n  return (\n    <div className={s.App}>\n      <Modal src={datasrc} />\n      <Searchbar onSubmit={onSubmit} />\n      <ImageGallery onFetch={search} src={largeImageURL} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3_RJR\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2Q_b-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2I1w2\",\"ButtonDiv\":\"Button_ButtonDiv__2P3Yn\"};"],"sourceRoot":""}