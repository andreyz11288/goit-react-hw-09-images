(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{10:function(e,t,n){e.exports={Overlay:"Modal_Overlay__2Ssuh",Modal:"Modal_Modal__34gOB"}},13:function(e,t,n){e.exports={App:"App_App__2VeMU"}},14:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__WDQ9O"}},16:function(e,t,n){e.exports={loader:"Loader_loader__3oLO2"}},22:function(e,t,n){},4:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__qUuZE",SearchForm:"Searchbar_SearchForm__1pJg7",SearchFormButton:"Searchbar_SearchFormButton__29b_z",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1cceJ",SearchFormInput:"Searchbar_SearchFormInput__1bJNb"}},44:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),o=n(12),i=n.n(o),s=(n(22),n(3)),l=n(13),u=n.n(l),b=n(4),j=n.n(b);function m(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(s.a)(n,2),o=r[0],i=r[1];return Object(c.jsx)("header",{className:j.a.Searchbar,children:Object(c.jsxs)("form",{className:j.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(c.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(c.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(c.jsx)("input",{className:j.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){i(e.target.value)}})]})})}var h=n(14),d=n.n(h),f=n(11),O=n(8),g=n.n(O),p=n(15),_=n.n(p),v=n(16),x=n.n(v);function S(){return Object(c.jsx)(_.a,{className:x.a.loader,type:"Watch",color:"#00BFFF",height:100,width:100})}function I(e,t){return fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=").concat("19060894-87e054058a337546d07970d77")).then((function(e){return e.json()}))}function y(e){var t=e.onFetch,n=e.visible,r=e.numberPage,o=e.resPage,i=e.largeImageURL,l=Object(a.useState)([]),u=Object(s.a)(l,2),b=u[0],j=u[1],m=Object(a.useState)(null),h=Object(s.a)(m,2),d=h[0],O=h[1],p=Object(a.useState)("idle"),_=Object(s.a)(p,2),v=_[0],x=_[1],y=Object(a.useState)(null),F=Object(s.a)(y,2),w=F[0],B=F[1];return Object(a.useEffect)((function(){""===t&&(x("idle"),n(!0))}),[t,n]),Object(a.useEffect)((function(){O(!0)}),[t]),Object(a.useEffect)((function(){""!==t&&d&&(j([]),x("pending"),n(!0),o(!0),I(t,1).then((function(e){if(j(e.hits),n(!1),0===e.hits.length)return n(!0),x("rejected");x("resolve")})).catch((function(){return x("rejected")})).finally(O(!1),B(2)))}),[d,b,r,t,o,n]),Object(a.useEffect)((function(){w===r&&I(t,r).then((function(e){j([].concat(Object(f.a)(b),Object(f.a)(e.hits))),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),n(!1),0===e.hits.length&&n(!0),x("resolve")})).catch((function(){return x("rejected")})).finally(B(w+1))}),[b,w,r,t,n]),"idle"===v?Object(c.jsx)("li",{children:Object(c.jsx)("h1",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"})}):"rejected"===v?Object(c.jsx)("li",{children:Object(c.jsx)("h1",{children:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})}):"pending"===v?Object(c.jsx)("li",{children:Object(c.jsx)(S,{})}):"resolve"===v?b.map((function(e){return Object(c.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(c.jsx)("img",{src:e.webformatURL,"data-src":e.largeImageURL,alt:"img",className:g.a.ImageGalleryItemImage,onClick:function(){return i(e.largeImageURL)}})},e.id)})):void 0}var F=n(9),w=n.n(F);function B(e){var t=e.pageNumber;return Object(c.jsx)("div",{className:w.a.ButtonDiv,children:Object(c.jsx)("button",{className:w.a.Button,onClick:function(){t()},children:"Load more"})})}var L=function(e){var t=e.src,n=e.onFetch,r=Object(a.useState)(!1),o=Object(s.a)(r,2),i=o[0],l=o[1],u=Object(a.useState)(1),b=Object(s.a)(u,2),j=b[0],m=b[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("ul",{className:d.a.ImageGallery,children:Object(c.jsx)(y,{onFetch:n,largeImageURL:function(e){t(e)},visible:function(e){l(!e)},numberPage:j,resPage:function(e){e&&m(1)},qq:i})}),i&&Object(c.jsx)(B,{pageNumber:function(e){m(j+1)}})]})},N=n(10),E=n.n(N),G=n.p+"static/media/404_error.a378b0df.jpg";function k(e){var t=e.src,n=Object(a.useState)(!1),r=Object(s.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){return""!==t&&(i(!0),window.addEventListener("keydown",(function(e){"Escape"===e.code&&i(!1)})),window.addEventListener("click",(function(e){"img"!==e.target.alt&&i(!1)}))),function(){window.removeEventListener("keydown",(function(e){"Escape"===e.code&&i(!1)})),window.removeEventListener("click",(function(e){"img"!==e.target.alt&&i(!1)}))}}),[t]),o&&Object(c.jsx)("div",{className:E.a.Overlay,children:Object(c.jsx)("div",{className:E.a.Modal,children:Object(c.jsx)("img",{src:t,alt:"img"})})})}k.defaultProps={src:G};var P=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),i=Object(s.a)(o,2),l=i[0],b=i[1];return Object(c.jsxs)("div",{className:u.a.App,children:[Object(c.jsx)(k,{src:l}),Object(c.jsx)(m,{onSubmit:function(e){r(e)}}),Object(c.jsx)(L,{onFetch:n,src:function(e){b(e)}})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(P,{})}),document.getElementById("root")),C()},8:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3_RJR",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2Q_b-"}},9:function(e,t,n){e.exports={Button:"Button_Button__2I1w2",ButtonDiv:"Button_ButtonDiv__2P3Yn"}}},[[44,1,2]]]);
//# sourceMappingURL=main.978192b6.chunk.js.map